"use strict";(self.webpackChunkpersonal_finance_app=self.webpackChunkpersonal_finance_app||[]).push([[149],{9149:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Y});var a=t(6166),n=t(4080),r=t(8818),l=t(211),c=t(964),i=t(5977),o=t(6540),d=t(7767);const x="http://127.0.0.1:5028/api";async function u(e,s={}){try{const t=await fetch(e,{...s,headers:{"Content-Type":"application/json",...s.headers},credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.error||`HTTP error! status: ${t.status}`)}return await t.json()}catch(s){throw console.error(`Error fetching ${e}:`,s),s}}async function m(e,s){const t=e&&s?`${x}/transactions?start_date=${e}&end_date=${s}`:`${x}/transactions`;return await u(t)}var h=t(4848);const j=function({totalIncome:e=0,totalExpenses:s=0,netBalance:t=0}){return(0,h.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account Summary"}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-gray-500",children:"Total Income"}),(0,h.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["$",e.toFixed(2)]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-gray-500",children:"Total Expenses"}),(0,h.jsxs)("p",{className:"text-lg font-bold text-red-600",children:["$",s.toFixed(2)]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-gray-500",children:"Net Balance"}),(0,h.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["$",t.toFixed(2)]})]})]})]})};var y=t(9798),p=t(8445);const g=function(){const[e,s]=(0,o.useState)(""),[t,a]=(0,o.useState)(!1),[n,r]=(0,o.useState)(null),[l,c]=(0,o.useState)([]),[d,x]=(0,o.useState)(!1),[u,m]=(0,o.useState)(null),[j,g]=(0,o.useState)(""),[b,f]=(0,o.useState)("monthly"),[v,N]=(0,o.useState)(!1),[w,k]=(0,o.useState)(null),[S,A]=(0,o.useState)({field:"date",direction:"desc"}),C=async()=>{a(!0),r(null);try{const e=await fetch("/api/ai_advice");if(!e.ok)throw new Error("Failed to fetch AI advice");const t=await e.json();s(t.response||"No advice available at this time.")}catch(e){r(e.message||"An error occurred while fetching AI advice."),console.error("Error fetching AI advice:",e)}finally{a(!1)}};(0,o.useEffect)((()=>{C(),(async()=>{x(!0),m(null);try{const e=await fetch("/api/transactions");if(!e.ok)throw new Error("Failed to fetch expense data");const s=await e.json();c(s.transactions||[])}catch(e){m(e.message||"An error occurred while fetching expenses."),console.error("Error fetching expense data:",e)}finally{x(!1)}})()}),[]);const E=(l||[]).filter((e=>""===j||e.name.toLowerCase().includes(j.toLowerCase())||e.category.toLowerCase().includes(j.toLowerCase()))).sort(((e,s)=>{const t="asc"===S.direction?1:-1;return e[S.field]>s[S.field]?t:-t}));return d?(0,h.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,h.jsx)(y.A,{className:"animate-spin h-8 w-8 text-blue-500"})}):(0,h.jsxs)("div",{className:"space-y-6 p-4",children:[(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold",children:"AI Financial Insights"}),(0,h.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:t,children:[(0,h.jsx)(i.A,{className:"h-4 w-4 "+(t?"animate-spin":"")}),"Refresh Advice"]})]}),t?(0,h.jsx)("div",{className:"flex justify-center py-4",children:(0,h.jsx)(y.A,{className:"animate-spin h-6 w-6 text-blue-500"})}):n?(0,h.jsx)("div",{className:"text-red-500",children:n}):(0,h.jsx)("div",{className:"prose",children:(0,h.jsx)("p",{className:"text-gray-700",children:e})})]}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,h.jsxs)("div",{className:"p-4",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Expense Overview"}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4",children:[(0,h.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"border rounded p-2 focus:ring-2 focus:ring-blue-500",children:[(0,h.jsx)("option",{value:"monthly",children:"Monthly"}),(0,h.jsx)("option",{value:"quarterly",children:"Quarterly"}),(0,h.jsx)("option",{value:"yearly",children:"Yearly"})]}),(0,h.jsxs)("div",{className:"relative flex-1",children:[(0,h.jsx)("input",{type:"text",placeholder:"Search expenses...",value:j,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded focus:ring-2 focus:ring-blue-500"}),(0,h.jsx)(p.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),(0,h.jsx)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:E.map((e=>(0,h.jsxs)("div",{className:"p-4 border rounded-lg shadow cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>(e=>{k(e),N(!0)})(e),children:[(0,h.jsx)("h3",{className:"font-bold",children:e.name}),(0,h.jsxs)("p",{className:`text-${e.amount<0?"red":"green"}-600`,children:["$",Math.abs(e.amount).toFixed(2)]}),(0,h.jsx)("p",{className:"text-sm text-gray-500",children:e.date}),(0,h.jsx)("span",{className:"inline-block px-2 py-1 mt-2 text-xs bg-gray-100 rounded",children:e.category})]},e.transaction_id)))})]})})]})};var b=t(5842),f=t(1605),v=t(6252),N=t(2477),w=t(6831),k=t(7698),S=t(4653),A=t(404),C=t(9107),E=t(7984),_=t(3495),$=t(8687),F=t(7018),I=t(4198);const T=({expenses:e,handleExpenseClick:s})=>(0,h.jsx)("div",{className:"w-full h-96",children:(0,h.jsx)(S.u,{children:(0,h.jsxs)(A.E,{data:e,onClick:(e,t)=>s(e.activePayload[0].payload),children:[(0,h.jsx)(C.d,{strokeDasharray:"3 3"}),(0,h.jsx)(E.W,{dataKey:"date"}),(0,h.jsx)(_.h,{}),(0,h.jsx)($.m,{}),(0,h.jsx)(F.s,{}),(0,h.jsx)(I.y,{dataKey:"amount",fill:"#8884d8",name:"Expense Amount"})]})})}),q=()=>{const[e,s]=(0,o.useState)([]),[t,a]=(0,o.useState)("monthly"),[n,r]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!0),[i,d]=(0,o.useState)(null),[x,u]=(0,o.useState)(!1),[m,j]=(0,o.useState)(null);return(0,o.useEffect)((()=>{let e=!0;return(async()=>{try{c(!0),d(null);const a=await fetch(`/api/expenses_summary?period=${t}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();e&&(s(n),r(!0))}catch(s){e&&d(s.message)}finally{e&&c(!1)}})(),()=>{e=!1}}),[t]),l?(0,h.jsx)("div",{className:"text-center p-4",children:"Loading expense data..."}):i?(0,h.jsxs)("div",{className:"text-red-500 p-4",children:["Error loading expenses: ",i]}):(0,h.jsxs)("div",{className:"p-4",children:[(0,h.jsx)("div",{className:"mb-4",children:(0,h.jsxs)("select",{value:t,onChange:e=>a(e.target.value),className:"border rounded p-2",children:[(0,h.jsx)("option",{value:"monthly",children:"Monthly"}),(0,h.jsx)("option",{value:"quarterly",children:"Quarterly"}),(0,h.jsx)("option",{value:"yearly",children:"Yearly"})]})}),n&&e.length>0?(0,h.jsx)(T,{expenses:e,handleExpenseClick:e=>{j(e),u(!0)}}):(0,h.jsx)("div",{className:"text-center p-4",children:"No expense data available"}),(0,h.jsxs)(v.A,{open:x,onClose:()=>u(!1),"aria-labelledby":"expense-dialog-title","aria-describedby":"expense-dialog-description",children:[(0,h.jsx)(w.A,{id:"expense-dialog-title",children:"Expense Details"}),(0,h.jsx)(N.A,{children:m?(0,h.jsxs)("div",{children:[(0,h.jsxs)(k.A,{variant:"body1",children:[(0,h.jsx)("strong",{children:"Date:"})," ",m.date]}),(0,h.jsxs)(k.A,{variant:"body1",children:[(0,h.jsx)("strong",{children:"Amount:"})," $",m.amount]}),(0,h.jsxs)(k.A,{variant:"body1",children:[(0,h.jsx)("strong",{children:"Category:"})," ",m.category]})]}):(0,h.jsx)(k.A,{variant:"body1",children:"No expense details available."})})]})]})};var L=t(590),B=t(4934),P=t(2708);const M=()=>{const[e,s]=(0,o.useState)([]),[t,a]=(0,o.useState)(!1),[n,r]=(0,o.useState)({source_name:"",amount:"",frequency:"monthly",type:"salary"}),[l,c]=(0,o.useState)(null),[i,d]=(0,o.useState)(null);(0,o.useEffect)((()=>{x()}),[]);const x=async()=>{try{const e=await fetch("/api/income",{credentials:"include"}),t=await e.json();e.ok?Array.isArray(t)?(s(t),d(null)):(d("Received unexpected data format from server."),s([])):(d(t.error||"Failed to fetch income sources."),s([]))}catch(e){console.error("Error fetching income sources:",e),d("An error occurred while fetching income sources."),s([])}},u=(e,s)=>{switch(s){case"weekly":return 4*e;case"bi-weekly":return 2*e;case"monthly":default:return e;case"yearly":return e/12}},m=Array.isArray(e)?e.reduce(((e,s)=>e+u(parseFloat(s.amount),s.frequency)),0):0;return(0,h.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,h.jsx)("h2",{className:"text-2xl font-bold",children:"Income Sources"}),(0,h.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,h.jsx)(L.A,{className:"w-5 h-5"}),"Add Income Source"]})]}),i&&(0,h.jsx)("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:i}),(0,h.jsxs)("div",{className:"space-y-4",children:[Array.isArray(e)&&e.map((e=>(0,h.jsx)("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:(0,h.jsxs)("div",{className:"flex justify-between items-start",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"font-semibold text-lg",children:e.source_name}),(0,h.jsxs)("p",{className:"text-sm text-gray-600",children:["$",parseFloat(e.amount).toLocaleString()," â€¢ ",e.frequency]}),(0,h.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Monthly equivalent: $",u(parseFloat(e.amount),e.frequency).toLocaleString()]})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("button",{onClick:()=>{r(e),c(e.id),a(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",children:(0,h.jsx)(B.A,{className:"w-4 h-4"})}),(0,h.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this income source?"))try{const s=await fetch(`/api/income/${e.id}`,{method:"DELETE",credentials:"include"});if(s.ok)x();else{const e=await s.json();d(e.error||"Failed to delete income source.")}}catch(e){console.error("Error deleting income source:",e),d("An error occurred while deleting the income source.")}},className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:(0,h.jsx)(P.A,{className:"w-4 h-4"})})]})]})},e.id))),Array.isArray(e)&&0===e.length&&(0,h.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No income sources added yet. Click the button above to add one."}),Array.isArray(e)&&e.length>0&&(0,h.jsxs)("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[(0,h.jsx)("h3",{className:"font-semibold text-green-800",children:"Total Monthly Income"}),(0,h.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",m.toLocaleString()]})]})]}),t&&(0,h.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,h.jsx)("h3",{className:"text-xl font-bold mb-4",children:l?"Edit Income Source":"Add Income Source"}),(0,h.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=l?`/api/income/${l}`:"/api/income",s=await fetch(e,{method:l?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(s.ok)x(),a(!1),r({source_name:"",amount:"",frequency:"monthly",type:"salary"}),c(null);else{const e=await s.json();d(e.error||"Failed to save income source.")}}catch(e){console.error("Error saving income source:",e),d("An error occurred while saving the income source.")}},className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source Name"}),(0,h.jsx)("input",{type:"text",value:n.source_name,onChange:e=>r({...n,source_name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,h.jsx)("input",{type:"number",value:n.amount,onChange:e=>r({...n,amount:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Frequency"}),(0,h.jsxs)("select",{value:n.frequency,onChange:e=>r({...n,frequency:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,h.jsx)("option",{value:"weekly",children:"Weekly"}),(0,h.jsx)("option",{value:"bi-weekly",children:"Bi-weekly"}),(0,h.jsx)("option",{value:"monthly",children:"Monthly"}),(0,h.jsx)("option",{value:"yearly",children:"Yearly"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,h.jsxs)("select",{value:n.type,onChange:e=>r({...n,type:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,h.jsx)("option",{value:"salary",children:"Salary"}),(0,h.jsx)("option",{value:"hourly",children:"Hourly Wage"}),(0,h.jsx)("option",{value:"investment",children:"Investment"}),(0,h.jsx)("option",{value:"business",children:"Business"}),(0,h.jsx)("option",{value:"freelance",children:"Freelance"}),(0,h.jsx)("option",{value:"other",children:"Other"})]})]}),(0,h.jsxs)("div",{className:"flex gap-2 justify-end mt-6",children:[(0,h.jsx)("button",{type:"button",onClick:()=>{a(!1),r({source_name:"",amount:"",frequency:"monthly",type:"salary"}),c(null),d(null)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:"Cancel"}),(0,h.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:l?"Save Changes":"Add Income"})]})]})]})})]})};var D=t(4947);const O=({onSuccess:e})=>{const[s,t]=(0,o.useState)(null),[a,n]=(0,o.useState)("loading"),[r,l]=(0,o.useState)(null),c=(0,o.useCallback)((async()=>{try{n("loading");const{link_token:e}=await async function(){return await u(`${x}/create_link_token`,{method:"GET"})}();t(e),n("ready")}catch(e){console.error("Error fetching link token:",e),l(e.message),n("error")}}),[]);(0,o.useEffect)((()=>{c()}),[c]);const{open:i,ready:d}=(0,D.usePlaidLink)({token:s,onSuccess:async(s,t)=>{try{n("connecting"),await async function(e){return await u(`${x}/exchange_public_token`,{method:"POST",body:JSON.stringify(e)})}({public_token:s,...t}),n("success"),e&&e(t)}catch(e){console.error("Error exchanging public token:",e),l(e.message),n("error")}},onExit:(e,s)=>{e&&(console.error("Plaid Link exited with error:",e),l(e.message),n("error"))},onEvent:(e,s)=>{console.log("Plaid Link event:",e,s)}});return(0,h.jsxs)("div",{children:["error"===a&&(0,h.jsxs)("div",{className:"error",children:[(0,h.jsxs)("p",{children:["Error: ",r]}),(0,h.jsx)("button",{onClick:c,children:"Retry"})]}),"ready"===a&&(0,h.jsx)("button",{onClick:i,disabled:!d,children:"Connect Your Bank Account"}),"loading"===a&&(0,h.jsx)("p",{children:"Loading..."}),"success"===a&&(0,h.jsx)("p",{children:"Account successfully linked!"})]})},R=()=>{const[e,s]=(0,o.useState)([]),[t,a]=(0,o.useState)(!0),[n,r]=(0,o.useState)(null),l=(0,d.Zp)();if((0,o.useEffect)((()=>{(async()=>{try{const e=await m();s(e.transactions||[]),a(!1)}catch(e){console.error("Error fetching transactions:",e),r("Failed to load transactions."),a(!1)}})()}),[]),t)return(0,h.jsx)("div",{className:"p-4 text-center",children:(0,h.jsx)("p",{children:"Loading transactions..."})});if(n)return(0,h.jsx)("div",{className:"p-4 text-center text-red-500",children:(0,h.jsx)("p",{children:n})});const c=e.slice(0,8);return 0===e.length?(0,h.jsx)("div",{className:"p-4 text-center",children:"No transactions available."}):(0,h.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,h.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,h.jsx)("h2",{className:"text-2xl font-bold",children:"Recent Transactions"})}),(0,h.jsx)("div",{className:"overflow-hidden",children:(0,h.jsx)("div",{className:"bg-white rounded-lg border",children:c.map(((e,s)=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 "+(s!==c.length-1?"border-b":""),children:[(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e.amount<0?"bg-red-100":"bg-green-100"),children:(0,h.jsx)("span",{className:"text-lg "+(e.amount<0?"text-red-600":"text-green-600"),children:e.amount<0?"-":"+"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-semibold",children:e.name}),(0,h.jsx)("p",{className:"text-sm text-gray-500",children:e.date})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"font-semibold "+(e.amount<0?"text-red-600":"text-green-600"),children:["$",Math.abs(e.amount).toFixed(2)]}),(0,h.jsx)("p",{className:"text-sm text-gray-500",children:e.category})]})]},e.id)))})}),(0,h.jsx)("div",{className:"mt-4 text-center",children:(0,h.jsx)("button",{onClick:()=>{l("/transactions")},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View All Transactions"})})]})},Y=()=>{const[e,s]=(0,o.useState)({totalIncome:0,totalExpenses:0,netBalance:0,transactions:[]}),[t,y]=(0,o.useState)(null),[p,v]=(0,o.useState)(!0),[N,w]=(0,o.useState)(null),k=(0,d.Zp)();(0,o.useEffect)((()=>{S()}),[]);const S=async()=>{v(!0),y(null);try{const e=await async function(){return await u(`${x}/account_summary`)}();s({totalIncome:e.total_income||0,totalExpenses:e.total_expenses||0,netBalance:e.net_balance||0,transactions:e.transactions||[]})}catch(e){console.error("Error fetching dashboard data:",e),y(e.message||"Failed to load dashboard data.")}finally{v(!1)}};if(p)return(0,h.jsx)(f.A,{});if(t)return(0,h.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-red-500",children:t}),(0,h.jsx)("button",{onClick:S,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})});const{totalIncome:A,totalExpenses:C,netBalance:E,transactions:_}=e;return(0,h.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,h.jsx)("nav",{className:"bg-white shadow-sm sticky top-0 z-10",children:(0,h.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,h.jsx)("div",{className:"flex items-center",children:(0,h.jsx)("span",{className:"text-xl font-bold text-blue-600",children:"FinanceTracker"})}),(0,h.jsxs)("div",{className:"hidden md:flex space-x-4",children:[(0,h.jsxs)("button",{onClick:()=>k("/"),className:"flex items-center px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100",children:[(0,h.jsx)(a.A,{className:"w-5 h-5 mr-2"}),"Dashboard"]}),(0,h.jsxs)("button",{onClick:()=>k("/investments"),className:"flex items-center px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100",children:[(0,h.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"Investments"]}),(0,h.jsxs)("button",{onClick:()=>k("/budgets"),className:"flex items-center px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100",children:[(0,h.jsx)(r.A,{className:"w-5 h-5 mr-2"}),"Budgets"]}),(0,h.jsxs)("button",{onClick:()=>k("/credit-score"),className:"flex items-center px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100",children:[(0,h.jsx)(l.A,{className:"w-5 h-5 mr-2"}),"Credit Score"]}),(0,h.jsxs)("button",{onClick:()=>k("/settings"),className:"flex items-center px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100",children:[(0,h.jsx)(c.A,{className:"w-5 h-5 mr-2"}),"Settings"]})]})]})})}),(0,h.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,h.jsxs)(b.A,{children:[(0,h.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,h.jsx)(j,{totalIncome:A,totalExpenses:C,netBalance:E}),(0,h.jsx)(M,{totalIncome:A})]}),(0,h.jsx)("div",{className:"mt-6",children:(0,h.jsx)(R,{transactions:_})}),(0,h.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 mt-6",children:[(0,h.jsx)(q,{}),(0,h.jsx)(g,{})]}),(0,h.jsx)("div",{className:"mt-6 p-4 bg-white rounded-lg shadow-lg",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-lg font-semibold",children:"Bank Connection"}),N&&(0,h.jsx)("p",{className:"text-sm text-red-500 mt-1",children:N})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsx)(O,{onSuccess:S}),(0,h.jsxs)("button",{onClick:async()=>{v(!0);try{await m(),await S(),w(null)}catch(e){console.error("Error syncing bank data:",e),w(e.message||"Failed to sync bank data.")}finally{v(!1)}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[(0,h.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Sync Now"]})]})]})})]})})]})}}}]);