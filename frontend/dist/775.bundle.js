/*! For license information please see 775.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpersonal_finance_app=self.webpackChunkpersonal_finance_app||[]).push([[775],{775:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var r=s(540),a=s(102),n=s(107),i=s(798),c=s(977),l=s(848);const d=()=>{const[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)(0),[x,o]=(0,r.useState)(0),[p,m]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[y,f]=(0,r.useState)({field:"marketValue",direction:"desc"}),[j,w]=(0,r.useState)("");(0,r.useEffect)((()=>{g()}),[y]);const g=async()=>{try{m(!0),h(null);const e=await fetch(`/api/investments?sort_by=${y.field}&sort_direction=${y.direction}`);if(!e.ok)throw new Error("Failed to fetch investment data");const s=await e.json();t(s.investments),d(s.portfolioValue),o(s.totalReturn)}catch(e){h(e.message),console.error("Error fetching investment data:",e)}finally{m(!1)}},k=e=>{f((t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"})))},N=({field:e})=>y.field!==e?null:"asc"===y.direction?(0,l.jsx)(a.A,{className:"inline w-4 h-4"}):(0,l.jsx)(n.A,{className:"inline w-4 h-4"});return u?(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,l.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:[(0,l.jsxs)("p",{className:"text-red-700",children:["Error: ",u]}),(0,l.jsx)("button",{onClick:g,className:"mt-2 px-4 py-2 bg-red-100 text-red-800 rounded hover:bg-red-200",children:"Retry"})]})}):p?(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsx)(i.A,{className:"animate-spin h-8 w-8 text-blue-500"})}):(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,l.jsx)("div",{className:"flex justify-end mb-4",children:(0,l.jsxs)("button",{onClick:g,className:"flex items-center px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("input",{type:"text",placeholder:"Search investments...",value:j,onChange:e=>w(e.target.value),className:"w-full md:w-64 px-4 py-2 border rounded-lg"})}),(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("symbol"),children:["Asset ",(0,l.jsx)(N,{field:"symbol"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("quantity"),children:["Quantity ",(0,l.jsx)(N,{field:"quantity"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("currentPrice"),children:["Current Price ",(0,l.jsx)(N,{field:"currentPrice"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("marketValue"),children:["Market Value ",(0,l.jsx)(N,{field:"marketValue"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("return"),children:["Return ",(0,l.jsx)(N,{field:"return"})]})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.filter((e=>""===j||e.symbol.toLowerCase().includes(j.toLowerCase())||e.name.toLowerCase().includes(j.toLowerCase()))).map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.symbol}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.currentPrice}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.marketValue}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.return})]},e.id)))})]})}},107:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(407).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},102:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(407).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},977:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(407).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}}]);