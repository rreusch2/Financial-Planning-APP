/*! For license information please see 775.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpersonal_finance_app=self.webpackChunkpersonal_finance_app||[]).push([[775],{4775:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(6540),r=s(2102),i=s(5107),n=s(9798),c=s(5977),l=s(4848);const d=()=>{const[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)(0),[x,o]=(0,a.useState)(0),[p,m]=(0,a.useState)(!0),[h,u]=(0,a.useState)(null),[y,f]=(0,a.useState)({field:"marketValue",direction:"desc"}),[j,w]=(0,a.useState)("");(0,a.useEffect)((()=>{k()}),[y]);const k=async()=>{try{m(!0),u(null);const e=await fetch(`/api/investments?sort_by=${y.field}&sort_direction=${y.direction}`);if(!e.ok)throw new Error("Failed to fetch investment data");const s=await e.json();t(s.investments),d(s.portfolioValue),o(s.totalReturn)}catch(e){u(e.message),console.error("Error fetching investment data:",e)}finally{m(!1)}},g=e=>{f((t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"})))},v=({field:e})=>y.field!==e?null:"asc"===y.direction?(0,l.jsx)(r.A,{className:"inline w-4 h-4"}):(0,l.jsx)(i.A,{className:"inline w-4 h-4"});return h?(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,l.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:[(0,l.jsxs)("p",{className:"text-red-700",children:["Error: ",h]}),(0,l.jsx)("button",{onClick:k,className:"mt-2 px-4 py-2 bg-red-100 text-red-800 rounded hover:bg-red-200",children:"Retry"})]})}):p?(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsx)(n.A,{className:"animate-spin h-8 w-8 text-blue-500"})}):(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,l.jsx)("div",{className:"flex justify-end mb-4",children:(0,l.jsxs)("button",{onClick:k,className:"flex items-center px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("input",{type:"text",placeholder:"Search investments...",value:j,onChange:e=>w(e.target.value),className:"w-full md:w-64 px-4 py-2 border rounded-lg"})}),(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>g("symbol"),children:["Asset ",(0,l.jsx)(v,{field:"symbol"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>g("quantity"),children:["Quantity ",(0,l.jsx)(v,{field:"quantity"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>g("currentPrice"),children:["Current Price ",(0,l.jsx)(v,{field:"currentPrice"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>g("marketValue"),children:["Market Value ",(0,l.jsx)(v,{field:"marketValue"})]}),(0,l.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>g("return"),children:["Return ",(0,l.jsx)(v,{field:"return"})]})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.filter((e=>""===j||e.symbol.toLowerCase().includes(j.toLowerCase())||e.name.toLowerCase().includes(j.toLowerCase()))).map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.symbol}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.currentPrice}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.marketValue}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.return})]},e.id)))})]})}},5107:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(9407).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2102:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(9407).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},9798:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(9407).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},5977:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(9407).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}}]);